#!/usr/bin/env node

/**
 * Command dependencies.
 */

const exists = require('fs').existsSync
const exec = require('win-fork')
const args = process.argv.slice(2)
const argv = require('minimist')(args)
const cli = argv._[0]




/**
 * Spawn child process.
 *
 * @param {String} path
 * @api private
 */

function spawn(path) {
  if (!exists(path)) {
    console.error('\n  %s(1) does not exist', path);
    help();
  } else {
    exec(path, args, {
      stdio: 'inherit',
      customFds: [0, 1, 2]
    }).on('close', code => process.exit(code))
  }
}


/**
 * Displays command help.
 *
 * @api private
 */

function help() {
  console.log('help')
}


if(cli) spawn(__dirname + '/pedro-' + cli)
